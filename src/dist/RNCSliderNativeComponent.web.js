var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _jsxFileName="/home/fbillioud/Documents/react-native-slider/src/js/RNCSliderNativeComponent.web.js";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var RCTSliderWebComponent=_react.default.forwardRef(function(_ref,forwardedRef){var initialValue=_ref.value,_ref$minimumValue=_ref.minimumValue,minimumValue=_ref$minimumValue===void 0?0:_ref$minimumValue,_ref$maximumValue=_ref.maximumValue,maximumValue=_ref$maximumValue===void 0?0:_ref$maximumValue,_ref$step=_ref.step,step=_ref$step===void 0?1:_ref$step,_ref$minimumTrackTint=_ref.minimumTrackTintColor,minimumTrackTintColor=_ref$minimumTrackTint===void 0?'#009688':_ref$minimumTrackTint,_ref$maximumTrackTint=_ref.maximumTrackTintColor,maximumTrackTintColor=_ref$maximumTrackTint===void 0?'#939393':_ref$maximumTrackTint,_ref$thumbTintColor=_ref.thumbTintColor,thumbTintColor=_ref$thumbTintColor===void 0?'#009688':_ref$thumbTintColor,_ref$thumbStyle=_ref.thumbStyle,thumbStyle=_ref$thumbStyle===void 0?{}:_ref$thumbStyle,_ref$style=_ref.style,style=_ref$style===void 0?[]:_ref$style,_ref$inverted=_ref.inverted,inverted=_ref$inverted===void 0?false:_ref$inverted,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$trackHeight=_ref.trackHeight,trackHeight=_ref$trackHeight===void 0?4:_ref$trackHeight,_ref$thumbSize=_ref.thumbSize,thumbSize=_ref$thumbSize===void 0?20:_ref$thumbSize,_ref$onSlidingStart=_ref.onSlidingStart,onSlidingStart=_ref$onSlidingStart===void 0?function(){}:_ref$onSlidingStart,_ref$onSlidingComplet=_ref.onSlidingComplete,onSlidingComplete=_ref$onSlidingComplet===void 0?function(){}:_ref$onSlidingComplet,_ref$onValueChange=_ref.onValueChange,onValueChange=_ref$onValueChange===void 0?function(){}:_ref$onValueChange,others=(0,_objectWithoutProperties2.default)(_ref,["value","minimumValue","maximumValue","step","minimumTrackTintColor","maximumTrackTintColor","thumbTintColor","thumbStyle","style","inverted","disabled","trackHeight","thumbSize","onSlidingStart","onSlidingComplete","onValueChange"]);var containerSize=_react.default.useRef({width:0,height:0});var containerRef=forwardedRef||_react.default.createRef();var _React$useState=_react.default.useState(initialValue||minimumValue),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var percentageValue=(value-minimumValue)/(maximumValue-minimumValue);var minPercent=percentageValue;var maxPercent=1-percentageValue;var containerStyle=_reactNative.StyleSheet.compose({width:'100%',flexDirection:'row',userSelect:'none',alignItems:'center'},style);var trackStyle={height:trackHeight,borderRadius:trackHeight/2,userSelect:'none',flexGrow:1};var minimumTrackStyle=_objectSpread({},trackStyle,{backgroundColor:minimumTrackTintColor,flexBasis:minPercent*100+'%'});var maximumTrackStyle=_objectSpread({},trackStyle,{backgroundColor:maximumTrackTintColor,flexBasis:maxPercent*100+'%'});var thumbViewStyle=_reactNative.StyleSheet.compose({width:thumbSize,height:thumbSize,backgroundColor:thumbTintColor,zIndex:1,borderRadius:thumbSize/2,overflow:'hidden',userSelect:'none',cursor:'pointer'},thumbStyle);var onTouchEnd=function onTouchEnd(){onSlidingComplete(value);};var onMove=function onMove(event){var x=event.nativeEvent.locationX;var width=containerSize.current?containerSize.current.width:1;var newValue=inverted?maximumValue-(maximumValue-minimumValue)*x/width:minimumValue+(maximumValue-minimumValue)*x/width;var roundedValue=Math.round(newValue/step)*step;var withinBounds=Math.max(minimumValue,Math.min(roundedValue,maximumValue));setValue(withinBounds);onValueChange(withinBounds);};return _react.default.createElement(_reactNative.View,(0,_extends2.default)({ref:containerRef,onLayout:function onLayout(_ref2){var nativeEvent=_ref2.nativeEvent;return containerSize.current=nativeEvent.layout;},style:containerStyle,onStartShouldSetResponder:function onStartShouldSetResponder(){return!disabled;},onMoveShouldSetResponder:function onMoveShouldSetResponder(){return!disabled;},onResponderGrant:function onResponderGrant(){return onSlidingStart(value);},onResponderRelease:onTouchEnd,onResponderMove:onMove},others,{__source:{fileName:_jsxFileName,lineNumber:225,columnNumber:5}}),_react.default.createElement(_reactNative.View,{pointerEvents:"none",style:minimumTrackStyle,__source:{fileName:_jsxFileName,lineNumber:235,columnNumber:7}}),_react.default.createElement(_reactNative.View,{pointerEvents:"none",style:thumbViewStyle,__source:{fileName:_jsxFileName,lineNumber:236,columnNumber:7}}),_react.default.createElement(_reactNative.View,{pointerEvents:"none",style:maximumTrackStyle,__source:{fileName:_jsxFileName,lineNumber:237,columnNumber:7}}));});RCTSliderWebComponent.displayName='RTCSliderWebComponent';var _default=RCTSliderWebComponent;exports.default=_default;